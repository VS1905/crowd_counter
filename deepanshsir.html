<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Crowd-Counting</title>
    <style>

        body {
            background-color: #f0f0f0;
            font-family: 'DM Sans', sans-serif;
        }
        .testnav {
            background-color: #ffffff;
            padding: 15px;
            border-bottom: 1px solid #ddd;
        }
        .testmenu li {
            list-style: none;
            margin-right: 20px;
            font-size: 16px;
        }
        .testmenu li a {
            text-decoration: none;
            color: #333;
        }
        .testmenu li a:hover {
            color: #555;
        }
        .testContainer {
            margin-top: 20px;
        }
        .testDiv {
            background-color: #ffffff; /* Change bg-lgery to #ffffff */
            border-radius: 5px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .btn-warning {
            background-color: #ff8c00;
            border: none;
        }
        .btn-warning:hover {
            background-color: #ff9900;
        }
    </style>





<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,200;0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;0,9..40,800;0,9..40,900;0,9..40,1000;1,9..40,200;1,9..40,300;1,9..40,400;1,9..40,500;1,9..40,600;1,9..40,700;1,9..40,800;1,9..40,900;1,9..40,1000&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="https://internship.jhamobi.com/projects/t003-m002-p001/css/bootstrap.min.css" rel="stylesheet">
<link href="https://internship.jhamobi.com/projects/t003-m002-p001/css/main.css" rel="stylesheet">
</head>



<body>
<div class="Wrapper ">
    <header>
        <nav class="testnav">
            <div class="container">
                <div class="d-flex justify-content-between">
                    <div class="t-left d-flex align-items-center">
                        <a class="navbar-brand" href="#">
                            <img src="https://internship.jhamobi.com/projects/t003-m002-p001/img/logo.png" alt="logo" height="20">
                        </a>
                        <ul class="testmenu d-flex align-items-center">
                            <li>
                                <a href="#">
                                    API Endpoints
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    Logs
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    Billing
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div class="d-flex t-Rt">
                        <a href="#">
                            Docs
                        </a>
                        <a href="#" class="t-user">
                            PR
                        </a>
                    </div>
                </div>
            </div>
        </nav>
    </header>
    <div class="container">
        <div class="testContainer">
            <h2>Test API Endpoint</h2>
            <div class="testDiv">
                <div class="ts-top">
                    <h5 class="m-0">Test Endpoint</h5>
                    <p class="mt-1">See the results of your endpoint</p>
                </div>
                <div class="row m-0 p-3">
                    <div class="col-md-6">
                        <form id="image-form" enctype="multipart/form-data">
                            <label for="image" class="fimg fw-semibold mb-1">Image<span class="link-danger">*</span></label>
                            <div class="imguload">
                                <div class="d-flex text-center relative justify-content-center flex-column p-4">
                                    <input type="file" name="file" id="file-upload" accept="image/*" class="sr-only">
                                    <label for="file-upload" class="relative cursor-pointer fw-medium light-grey">
                                        <span class="c-orange fw-semibold cursor-pointer">Upload an image</span>
                                    </label>
                                    <p class="mb-1">or drag and drop</p>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="d-flex justify-content-end p-3 bg-lgery">
                    <button type="button" id="test-btn" class="btn btn-warning bg-orange text-white rounded">Test Endpoint</button>
                </div>
            </div>
            <div class="testDiv mt-3" id="result-div">
            </div>
        </div>
    </div>
</div>
<script>
    document.getElementById('test-btn').addEventListener('click', function() {
    var form = document.getElementById('image-form');
    var fileInput = document.getElementById('file-upload');

    if (!fileInput.files || fileInput.files.length === 0) {
        alert('Please select an image file.');
        return;
    }var formData = new FormData(form);
    var file = fileInput.files[0];
    formData.append('image', file);

    fetch('http://13.200.114.28:5000', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        console.log(data);
        var resultDiv = document.getElementById('result-div');
        resultDiv.innerHTML = '<h5>Result:</h5><p>' + data.people_count + '</p>';
    })
    .catch(error => console.error('Error:', error));
});

</script>
</body>
</html>
